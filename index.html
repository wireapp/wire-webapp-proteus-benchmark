<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Demo</title>
    <link rel="shortcut icon" href="data:image/x-icon;" type="image/x-icon" />
    <script src="bower_components/cryptobox/dist/cryptobox.js"></script>
    <script src="bower_components/requirejs/require.js"></script>
    <style>
      html, body {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <script>
      require({
        'paths': {
          'benchmark': 'bower_components/benchmark/benchmark',
          'lodash': 'bower_components/lodash/dist/lodash',
          'platform': 'bower_components/platform.js/platform'
        }
      }, ['benchmark'], function(Benchmark) {
        document.body.style.cursor = 'wait';

        var options = {minSamples: 50};
        var output = '';

        var suite = new Benchmark.Suite;

        suite.add('sodium.crypto_auth_hmacsha256', function() {
          var arrayWith32Bytes = [5, 30, 208, 218, 140, 173, 89, 133, 238, 120, 243, 172, 56, 0, 84, 80, 225, 83, 110, 68, 59, 136, 105, 202, 200, 243, 73, 174, 28, 38, 66, 246];
          var arrayBuffer = new ArrayBuffer(arrayWith32Bytes.length);
          var arrayBufferView = new Uint8Array(arrayBuffer);
          var message = 'Hello';
          var hmacsha256 = sodium.crypto_auth_hmacsha256(message, arrayBufferView);
        }, options)
        .add('sodium.crypto_sign_keypair', function() {
          var keypair = sodium.crypto_sign_keypair();
        }, options)
        .on('cycle', function(event) {
          output += String(event.target) + '<br/>';
        })
        .on('complete', function() {
          document.write(output);
          document.body.style.cursor = 'default';
        }).run({'async': true});
      });
    </script>
  </body>
</html>