<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Demo</title>
    <link rel="shortcut icon" href="data:image/x-icon;" type="image/x-icon" />
    <script src="bower_components/cryptobox/dist/cryptobox.js"></script>
    <script src="bower_components/requirejs/require.js"></script>
    <style>
      html, body {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <script>
      require({
        'paths': {
          'benchmark': 'bower_components/benchmark/benchmark',
          'lodash': 'bower_components/lodash/dist/lodash',
          'platform': 'bower_components/platform.js/platform'
        }
      },
      ['benchmark'], function(Benchmark) {
        document.body.style.cursor = 'wait';

        var options = {minSamples: 50};
        var output = '';

        var suite = new Benchmark.Suite;
        suite.add('sodium.crypto_sign_keypair', function() {
          var keypair = sodium.crypto_sign_keypair();
        }, options)
        .on('cycle', function(event) {
          output += String(event.target) + '<br/>';
        })
        .on('complete', function() {
          document.write(output);
          document.body.style.cursor = 'default';
        }).run({'async': true});
      });
    </script>
  </body>
</html>